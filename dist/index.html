<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Commuter - Waka</title>

    <meta
      name="description"
      content="Discover how we get to work & education, using travel data from the New Zealand 2018 Census"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="theme-color" content="#111111" />

    <link rel="stylesheet" href="/global.css" />
    <link rel="stylesheet" href="/build/bundle.css" />
    <link
      href="https://api.mapbox.com/mapbox-gl-js/v1.11.0/mapbox-gl.css"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Fira+Sans:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Fira+Sans+Condensed&display=swap"
      rel="stylesheet"
    />
    <!-- Yes, this isn't very modern JS to use CDNs. Sorry. -->
    <script
      defer
      src="https://api.mapbox.com/mapbox-gl-js/v1.11.0/mapbox-gl.js"
    ></script>
    <script defer src="/build/bundle.js"></script>
    <script async src="https://d3js.org/d3.v5.min.js"></script>

    <meta property="og:title" content="Waka Commuter" />
    <meta
      property="og:description"
      content="Discover how we get to work & education, using travel data from the New Zealand 2018 Census"
    />

    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@consindo" />
    <meta name="twitter:title" content="Waka Commuter" />
    <meta
      name="twitter:description"
      content="Discover how we get to work & education, using travel data from the New Zealand 2018 Census"
    />

    <!-- Hardcoded, because has to be an absolute URL! -->
    <meta
      property="og:image"
      content="https://commuter.waka.app/css/splash.jpg"
    />
    <meta
      name="twitter:image"
      content="https://commuter.waka.app/css/splash.jpg"
    />

    <link rel="icon" sizes="16x16 32x32 64x64" href="favicon.ico" />
    <link rel="icon" type="image/png" sizes="64x64" href="favicon-64.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16.png" />
  </head>

  <body>
    <div class="branding">
      <h1>Commuter</h1>
      <nav class="controls">
        <a
          href="#"
          title="Show both arrivals & departures on map"
          class="btn-direction-all selected"
          >All</a
        >
        &middot;
        <a
          href="#"
          title="Only show places where people arrive from"
          class="btn-direction-arrivals"
          >Arrivals</a
        >
        &middot;
        <a
          href="#"
          title="Only show places where people depart to"
          class="btn-direction-departures"
          >Departures</a
        >
      </nav>
    </div>
    <div id="app" class="map-view">
      <div id="map">
        <div id="map-content"></div>
        <div class="map-legend hidden all">
          <div class="map-legend-colors"></div>
          <ul>
            <li class="hide-departures hide-all">Less Arrivals</li>
            <li class="hide-departures">More Arrivals</li>
            <li class="hide-arrivals hide-all">Less Departures</li>
            <li class="hide-arrivals">More Departures</li>
          </ul>
        </div>
      </div>
      <div id="details">
        <noscript>
          <h3>Sorry!</h3>
          <p>This application requires JavaScript to be enabled.</p>
        </noscript>
        <div id="svelte-app" class="details-splash"></div>
        <div class="details-location hidden">
          <div class="nav-header">
            <div class="nav-header-flex">
              <div class="title">
                <h2 id="location-header"></h2>
              </div>
              <nav class="controls">
                <button title="Learn More" class="btn-expand">
                  <img alt="Toggle Details" src="expand.svg" />
                </button>
                <button title="Close Location" class="btn-close">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    height="24"
                    viewBox="0 0 24 24"
                    width="24"
                    alt="Close Location"
                    fill="#fff"
                  >
                    <path d="M0 0h24v24H0z" fill="none" />
                    <path
                      d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"
                    />
                  </svg>
                </button>
              </nav>
            </div>
            <div class="nav-header-flex">
              <div class="title">
                <p title="Resident Population">
                  <a
                    class="population-link"
                    href="#"
                    target="_blank"
                    rel="noopener noreferrer"
                  >
                    <strong class="population-label"></strong>
                    <span class="population-count"></span>
                  </a>
                </p>
                <nav class="secondary-controls"></nav>
              </div>
              <nav class="controls primary-controls"></nav>
            </div>
          </div>
          <h3>Arrivals</h3>
          <div class="arrive-from blurb-container"></div>
          <div class="arrive-from graph-container">
            <div class="location-container">
              <div class="location-inner">
                <div class="location"></div>
              </div>
            </div>
            <div class="mode-container">
              <div class="mode-inner">
                <h4>
                  Arrival Modes
                  <small
                    ><a
                      href="http://nzdotstat.stats.govt.nz/WBOS/Index.aspx?DataSetCode=TABLECODE8296"
                      >(NZ.Stat)</a
                    ></small
                  >
                </h4>
                <div class="mode"></div>
              </div>
            </div>
          </div>
          <h3>Departures</h3>
          <div class="depart-to blurb-container"></div>
          <div class="depart-to graph-container">
            <div class="location-container">
              <div class="location-inner">
                <div class="location"></div>
              </div>
            </div>
            <div class="mode-container">
              <div class="mode-inner">
                <h4>
                  Departure Modes
                  <small
                    ><a
                      href="http://nzdotstat.stats.govt.nz/WBOS/Index.aspx?DataSetCode=TABLECODE8296"
                      >(NZ.Stat)</a
                    ></small
                  >
                </h4>
                <div class="mode"></div>
              </div>
            </div>
          </div>
          <div class="tip-container">
            <p>
              The
              <a
                href="https://datafinder.stats.govt.nz/data/category/census/2018/commuter-view/"
                >Commuter View dataset</a
              >
              is used for the map & bubble visualisations, while the
              <a
                href="http://nzdotstat.stats.govt.nz/WBOS/Index.aspx?DataSetCode=TABLECODE8296"
                >NZ.Stat repository</a
              >
              is used for the modes of travel, and resident population.
            </p>
          </div>
          <div class="tip-container desktop">
            <p>
              <strong>Tip:</strong> Hold down
              <strong class="operating-system-ctrl">Ctrl</strong> to select
              multiple areas.
            </p>
          </div>
          <div class="tip-container mobile">
            <p>
              <strong>Tip:</strong> Open this app on a PC to get more detailed
              insights, and to select multiple areas.
            </p>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
